<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Phone Review</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    {% load static %}
    <!-- navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="/dashboard/">ADS-Mini_project_1</a>
        </div>
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <form method="POST" action="/logout">
                {% csrf_token %}
                <input type="submit" class="btn btn-outline-dark" value="Logout">
            </form>
        </div>
    </nav>

    <!--content area-->
    <div class="container">
        <div style="text-align: center;">
            <h1>Available Samsung Models</h1>
            <h5>
                Imagine two smartphones as datasets, where each feature is a data point. We'll compare these data points to see which phone excels in different categories like display, battery life, camera, processing power(cpu), and ram. This will help you make an informed decision based on user sentiment data, not just marketing hype.
            </h5>
        </div>
        <!-- create two dropdown button with 4 sub items for each in same row -->
        <div class="continer text-center">
            <div class="row">
                <div class="col-md-12">
                    <div class="dropdown">
                        <div>
                            <select class="btn btn-secondary dropdown-toggle" aria-labelledby="dropdownMenuButton" id="dropdown_1">
                                <option value="Samsung Galaxy S22 5G">Samsung Galaxy S22 5G</option>
                                <option value="Samsung Galaxy S22+ 5G">Samsung Galaxy S22+ 5G</option>
                                <option value="Samsung Galaxy S22 Ultra 5G">Samsung Galaxy S22 Ultra 5G</option>
                            </select>
                            VS
                            <select class="btn btn-secondary dropdown-toggle" aria-labelledby="dropdownMenuButton" id="dropdown_2">
                                <option value="Samsung Galaxy S23+">Samsung Galaxy S23+</option>
                                <option value="Samsung Galaxy S23 FE">Samsung Galaxy S23 FE</option>
                                <option value="Samsung Galaxy S23">Samsung Galaxy S23</option>
                                <option value="Samsung Galaxy S23 Ultra">Samsung Galaxy S23 Ultra</option>
                            </select>
                        </div>
                        <button type="button" id="compare_btn_1" class="btn btn-primary" style="margin-top: 20px;">Compare</button>
                        <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
                    </div>
                    
                </div>
            </div>
            <br><br>
            <!-- image -->
            <div class="row">
                <div style="text-align: center;">
                    <h1 id="polarity_compare_h1" hidden><u>Polarity review</u></h1>
                    <p id="polarity_compare_p" hidden>
                        *How to intepreted this? <br>
                        *The higher polarity means the comment is positive <br>
                        *The higher the density means having higher numbers of user giving comments among that sentiment
                    </p>
                </div>
                <div class="col-md-12">
                    <img src="" class="img-fluid" alt="topic5" id="topic5" hidden>
                </div>
                <div class="col-md-6">
                    <img src="" class="img-fluid" alt="topic1" id="topic1" hidden>
                </div>
                <div class="col-md-6">
                    <img src="" class="img-fluid" alt="topic2" id="topic2" hidden>
                </div>
                <div class="col-md-6">
                    <img src="" class="img-fluid" alt="topic3" id="topic3" hidden>
                </div>
                <div class="col-md-6">
                    <img src="" class="img-fluid" alt="topic4" id="topic4" hidden>
                </div>
            </div>

            <br><br>



            <!-- Word cloud -->
            <div style="text-align: center;">
                <h1 id="wc_compare_h1" hidden><u>Word Cloud</u></h1>
                <p id="wc_compare_p" hidden>
                    *How to intepreted this?<br>
                    *The Bigger size of the word means that word having high frequency appearing in user comment
                </p>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div>
                        <img src="" class="img-fluid" alt="WordCloud Comparison" id="wc_compare_1" hidden>
                    </div>
                </div>
                <div class="col-md-6">
                    <div>
                        <img src="" class="img-fluid" alt="WordCloud Comparison" id="wc_compare_2" hidden>
                    </div>
                </div>
            </div>
            <!-- Positive and Negative trend -->
            <div style="text-align: center;">
                <h1 id="p_n_trend_compare_h1" hidden><u>Positive and Negative trend</u></h1>
                <p id="p_n_trend_compare_p" hidden>
                    *How to intepreted this?<br>
                    *The green dotted line shows the launch date of respective Model<br>
                    *The figure interpreted the trend of positive and negative comments before and after the model launched
                </p>
            </div>
            <div class="col-md-12">
                <div>
                    <img src="" class="img-fluid" alt="WordCloud Comparison" id="p_n_trend_compare_1" hidden>
                </div>
            </div>
            <div class="col-md-12">
                <div>
                    <img src="" class="img-fluid" alt="WordCloud Comparison" id="p_n_trend_compare_2" hidden>
                </div>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function() {
    $("#compare_btn_1").click(function() {
        //disbaled the button
        $("#compare_btn_1").prop("disabled", true);
        // change the text of the button
        $("#compare_btn_1").text('Comparing...');

        //hide all the figure
        $('#topic1').attr('hidden', true);
        $('#topic2').attr('hidden', true);
        $('#topic3').attr('hidden', true);
        $('#topic4').attr('hidden', true);
        $('#topic5').attr('hidden', true);
        $('#polarity_compare_h1').attr('hidden', true);
        $('#polarity_compare_p').attr('hidden', true);
        $('#wc_compare_h1').attr('hidden', true);
        $('#wc_compare_p').attr('hidden', true);
        $('#wc_compare_1').attr('hidden', true);
        $('#wc_compare_2').attr('hidden', true);
        $('#p_n_trend_compare_h1').attr('hidden', true);
        $('#p_n_trend_compare_p').attr('hidden', true);
        $('#p_n_trend_compare_1').attr('hidden', true);
        $('#p_n_trend_compare_2').attr('hidden', true);



        $.ajax({
        url: "display", // Replace with your actual URL
        type: "POST", // Change to "GET" if needed
        data: { 
            device_1: $('#dropdown_1').val(),
            device_2: $('#dropdown_2').val(),
            csrfmiddlewaretoken: "{{ csrf_token }}" }, // Send data to the view
            success: function(response) {
            // Handle the response
            if (response.status == 'True') {
                console.log(response);
                $("#compare_btn_1").text('Compare');
                $("#compare_btn_1").prop("disabled", false);

                $('#topic1').attr('src', response.img_1);
                $('#topic2').attr('src', response.img_2);
                $('#topic3').attr('src', response.img_3);
                $('#topic4').attr('src', response.img_4);
                $('#topic5').attr('src', response.img_5);
                $('#wc_compare_1').attr('src', response.img_6);
                $('#wc_compare_2').attr('src', response.img_7);
                $('#p_n_trend_compare_1').attr('src', response.img_8);
                $('#p_n_trend_compare_2').attr('src', response.img_9);
                
                $('#polarity_compare_h1').removeAttr('hidden');
                $('#polarity_compare_p').removeAttr('hidden');
                $('#topic1').removeAttr('hidden');
                $('#topic2').removeAttr('hidden');
                $('#topic3').removeAttr('hidden');
                $('#topic4').removeAttr('hidden');
                $('#topic5').removeAttr('hidden');

                $('#wc_compare_h1').removeAttr('hidden');
                $('#wc_compare_p').removeAttr('hidden');
                $('#wc_compare_1').removeAttr('hidden');
                $('#wc_compare_2').removeAttr('hidden');

                $('#p_n_trend_compare_h1').removeAttr('hidden');
                $('#p_n_trend_compare_p').removeAttr('hidden');
                $('#p_n_trend_compare_1').removeAttr('hidden');
                $('#p_n_trend_compare_2').removeAttr('hidden');

                
            }
            else {
                alert('Error occurred on rendering the figure. Please contact Admin.1');
                window.location.reload();
            }
            
        },
        error: function(error) {
            alert('Error occurred on rendering the figure 2. Please contact Admin.2');
            window.location.reload();
        }
        });
    });
    });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>


